<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Queue Management</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 0.95em;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .queue-list {
            max-height: 500px;
            overflow-y: auto;
        }

        .queue-item {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #667eea;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .queue-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .queue-item.emergency {
            border-left-color: #e74c3c;
            background: #ffe5e5;
        }

        .queue-item.urgent {
            border-left-color: #f39c12;
            background: #fff4e5;
        }

        .queue-item.normal {
            border-left-color: #3498db;
            background: #e5f4ff;
        }

        .queue-item.low {
            border-left-color: #2ecc71;
            background: #e5ffe5;
        }

        .patient-info {
            flex: 1;
        }

        .patient-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .patient-details {
            color: #666;
            font-size: 0.95em;
        }

        .priority-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-top: 8px;
        }

        .priority-emergency {
            background: #e74c3c;
            color: white;
        }

        .priority-urgent {
            background: #f39c12;
            color: white;
        }

        .priority-normal {
            background: #3498db;
            color: white;
        }

        .priority-low {
            background: #2ecc71;
            color: white;
        }

        .queue-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: transform 0.2s;
            width: auto;
        }

        .action-btn:hover {
            transform: scale(1.05);
        }

        .complete-btn {
            background: #2ecc71;
            color: white;
        }

        .remove-btn {
            background: #e74c3c;
            color: white;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state svg {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .display-board {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .current-patient {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .current-patient h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .current-patient .token {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }

        @media (max-width: 968px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            .stats {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.8em;
            }

            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè• Hospital Queue Management</h1>
            <p class="subtitle">Efficient Patient Flow Management System</p>
        </header>

        <div class="main-grid">
            <div class="card">
                <h2>Add New Patient</h2>
                <form id="patientForm">
                    <div class="form-group">
                        <label for="patientName">Patient Name</label>
                        <input type="text" id="patientName" required placeholder="Enter patient name">
                    </div>
                    <div class="form-group">
                        <label for="patientAge">Age</label>
                        <input type="number" id="patientAge" required placeholder="Enter age" min="0">
                    </div>
                    <div class="form-group">
                        <label for="department">Department</label>
                        <select id="department" required>
                            <option value="">Select Department</option>
                            <option value="Emergency">Emergency</option>
                            <option value="General">General Medicine</option>
                            <option value="Cardiology">Cardiology</option>
                            <option value="Orthopedics">Orthopedics</option>
                            <option value="Pediatrics">Pediatrics</option>
                            <option value="Neurology">Neurology</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="priority">Priority Level</label>
                        <select id="priority" required>
                            <option value="">Select Priority</option>
                            <option value="emergency">Emergency</option>
                            <option value="urgent">Urgent</option>
                            <option value="normal">Normal</option>
                            <option value="low">Low Priority</option>
                        </select>
                    </div>
                    <button type="submit">Add to Queue</button>
                </form>
            </div>

            <div class="card">
                <h2>Queue Overview</h2>
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-number" id="totalPatients">0</div>
                        <div class="stat-label">Total in Queue</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="currentToken">-</div>
                        <div class="stat-label">Current Token</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="servedToday">0</div>
                        <div class="stat-label">Served Today</div>
                    </div>
                </div>
                <div class="queue-list" id="queueList">
                    <div class="empty-state">
                        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        <h3>No patients in queue</h3>
                        <p>Add a patient to get started</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="display-board">
            <h2 style="color: #667eea; margin-bottom: 20px; text-align: center;">üì∫ Display Board</h2>
            <div class="current-patient" id="displayBoard">
                <h3>NOW SERVING</h3>
                <div class="token">-</div>
                <p id="displayName">Waiting for first patient...</p>
            </div>
        </div>
    </div>

    <script>
        let queue = [];
        let tokenCounter = 1;
        let servedCount = 0;
        let currentPatient = null;

        const priorityOrder = {
            emergency: 1,
            urgent: 2,
            normal: 3,
            low: 4
        };

        function generateToken() {
            return `T${String(tokenCounter++).padStart(3, '0')}`;
        }

        function sortQueue() {
            queue.sort((a, b) => {
                if (priorityOrder[a.priority] !== priorityOrder[b.priority]) {
                    return priorityOrder[a.priority] - priorityOrder[b.priority];
                }
                return a.timestamp - b.timestamp;
            });
        }

        function addPatient(e) {
            e.preventDefault();
            
            const patient = {
                id: Date.now(),
                token: generateToken(),
                name: document.getElementById('patientName').value,
                age: document.getElementById('patientAge').value,
                department: document.getElementById('department').value,
                priority: document.getElementById('priority').value,
                timestamp: Date.now()
            };

            queue.push(patient);
            sortQueue();
            updateDisplay();
            
            document.getElementById('patientForm').reset();
            
            if (!currentPatient) {
                serveNext();
            }
        }

        function removePatient(id) {
            queue = queue.filter(p => p.id !== id);
            updateDisplay();
        }

        function completePatient(id) {
            removePatient(id);
            servedCount++;
            updateStats();
            serveNext();
        }

        function serveNext() {
            if (queue.length > 0) {
                currentPatient = queue[0];
                updateDisplayBoard();
            } else {
                currentPatient = null;
                updateDisplayBoard();
            }
        }

        function updateDisplayBoard() {
            const displayBoard = document.getElementById('displayBoard');
            const displayName = document.getElementById('displayName');
            
            if (currentPatient) {
                document.querySelector('.current-patient .token').textContent = currentPatient.token;
                displayName.textContent = `${currentPatient.name} - ${currentPatient.department}`;
            } else {
                document.querySelector('.current-patient .token').textContent = '-';
                displayName.textContent = 'Waiting for next patient...';
            }
        }

        function updateDisplay() {
            const queueList = document.getElementById('queueList');
            
            if (queue.length === 0) {
                queueList.innerHTML = `
                    <div class="empty-state">
                        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        <h3>No patients in queue</h3>
                        <p>Add a patient to get started</p>
                    </div>
                `;
            } else {
                queueList.innerHTML = queue.map((patient, index) => `
                    <div class="queue-item ${patient.priority}">
                        <div class="patient-info">
                            <div class="patient-name">${patient.token} - ${patient.name}</div>
                            <div class="patient-details">
                                Age: ${patient.age} | Department: ${patient.department}
                                <span class="priority-badge priority-${patient.priority}">
                                    ${patient.priority.toUpperCase()}
                                </span>
                            </div>
                        </div>
                        <div class="queue-actions">
                            ${index === 0 ? `<button class="action-btn complete-btn" onclick="completePatient(${patient.id})">Complete</button>` : ''}
                            <button class="action-btn remove-btn" onclick="removePatient(${patient.id})">Remove</button>
                        </div>
                    </div>
                `).join('');
            }
            
            updateStats();
        }

        function updateStats() {
            document.getElementById('totalPatients').textContent = queue.length;
            document.getElementById('currentToken').textContent = currentPatient ? currentPatient.token : '-';
            document.getElementById('servedToday').textContent = servedCount;
        }

        document.getElementById('patientForm').addEventListener('submit', addPatient);
        
        updateDisplay();
    </script>
</body>
</html>
